-- ========================================
-- "HEAVY COMPRESSION METRIC BOOSTER" SECTION
-- Intensely stimulate compression & CPU load
-- ========================================

-- Add a much larger number of students (10,000)
INSERT INTO students (first_name, last_name, birth_date)
SELECT CONCAT('TestStudent', n), REPEAT('VeryLongSurname', 100), '2000-01-01'
FROM (
  SELECT @row := @row + 1 AS n FROM
    (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) t1,
    (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) t2,
    (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) t3,
    (SELECT @row := 0) r
  LIMIT 10000
) big_numbers;

-- Add many classes with big teacher names (1,000)
INSERT INTO classes (name, teacher)
SELECT CONCAT('Class', n), REPEAT('TeacherLongNameExtra', 50)
FROM (
  SELECT @row := @row + 1 AS n FROM
    (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) t1,
    (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) t2,
    (SELECT @row := 0) r
  LIMIT 1000
) numbers;

-- Create 100,000 random enrollments
INSERT INTO enrollments (student_id, class_id)
SELECT FLOOR(1 + (RAND() * 10000)), FLOOR(1 + (RAND() * 1000))
FROM (
  SELECT @n := @n + 1 FROM
    (SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9 UNION ALL SELECT 10) t1,
    (SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9 UNION ALL SELECT 10) t2,
    (SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9 UNION ALL SELECT 10) t3,
    (SELECT @n := 0) r
  LIMIT 100000
) massive_enrollments;

-- Heavy updates: repeatedly update many large records
UPDATE students
SET last_name = REPEAT('CPUSurnameOverload', 100)
WHERE student_id % 3 = 0;

UPDATE students
SET last_name = REPEAT('Another*
î€€